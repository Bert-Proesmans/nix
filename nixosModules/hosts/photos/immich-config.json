{
    "ffmpeg": {
      "crf": 23,
      "threads": 0,
      "preset": "ultrafast",
      "targetVideoCodec": "h264",
      "acceptedVideoCodecs": [
        "h264"
      ],
      "targetAudioCodec": "aac",
      "acceptedAudioCodecs": [
        "aac",
        "mp3",
        "libopus"
      ],
      "acceptedContainers": [
        "mov",
        "ogg",
        "webm"
      ],
      "targetResolution": "720",
      "maxBitrate": "0",
      "bframes": -1,
      "refs": 0,
      "gopSize": 0,
      "npl": 0,
      "temporalAQ": false,
      "cqMode": "auto",
      "twoPass": false,
      "preferredHwDevice": "auto",
      "transcode": "required",
      "tonemap": "hable",
      "accel": "disabled",
      "accelDecode": false
    },
    "job": {
      "backgroundTask": {
        "concurrency": 5
      },
      "smartSearch": {
        "concurrency": 2
      },
      "metadataExtraction": {
        "concurrency": 5
      },
      "faceDetection": {
        "concurrency": 2
      },
      "search": {
        "concurrency": 5
      },
      "sidecar": {
        "concurrency": 5
      },
      "library": {
        "concurrency": 5
      },
      "migration": {
        "concurrency": 5
      },
      "thumbnailGeneration": {
        "concurrency": 3
      },
      "videoConversion": {
        "concurrency": 1
      },
      "notifications": {
        "concurrency": 5
      }
    },
    "logging": {
      "enabled": true,
      "level": "log"
    },
    "machineLearning": {
      "enabled": true,
      "url": "http://localhost:3003",
      "clip": {
        "enabled": true,
        "modelName": "ViT-B-32__openai"
      },
      "duplicateDetection": {
        "enabled": true,
        "maxDistance": 0.01
      },
      "facialRecognition": {
        "enabled": true,
        "modelName": "buffalo_l",
        "minScore": 0.7,
        "maxDistance": 0.5,
        "minFaces": 3
      }
    },
    "map": {
      "enabled": true,
      "lightStyle": "",
      "darkStyle": ""
    },
    "reverseGeocoding": {
      "enabled": true
    },
    "oauth": {
      "autoLaunch": false,
      "autoRegister": true,
      "buttonText": "Login with OAuth",
      "clientId": "",
      "clientSecret": "<SOPS:af72793179af0e53c58ada529568239e7e5803814cdee7ff4ce9337382496336:PLACEHOLDER>",
      "defaultStorageQuota": 0,
      "enabled": false,
      "issuerUrl": "",
      "mobileOverrideEnabled": false,
      "mobileRedirectUri": "",
      "scope": "openid email profile",
      "signingAlgorithm": "RS256",
      "profileSigningAlgorithm": "none",
      "storageLabelClaim": "preferred_username",
      "storageQuotaClaim": "immich_quota"
    },
    "passwordLogin": {
      "enabled": true
    },
    "storageTemplate": {
      "enabled": true,
      "hashVerificationEnabled": true,
      "template": "{{y}}/{{y}}-{{MM}}-{{dd}} {{album}}/{{filename}}"
    },
    "image": {
      "thumbnailFormat": "webp",
      "thumbnailSize": 250,
      "previewFormat": "jpeg",
      "previewSize": 1440,
      "quality": 80,
      "colorspace": "p3",
      "extractEmbedded": false
    },
    "newVersionCheck": {
      "enabled": false
    },
    "trash": {
      "enabled": true,
      "days": 200
    },
    "theme": {
      "customCss": ""
    },
    "library": {
      "scan": {
        "enabled": true,
        "cronExpression": "0 2 * * 1"
      },
      "watch": {
        "enabled": false
      }
    },
    "server": {
      "externalDomain": "",
      "loginPageMessage": ""
    },
    "notifications": {
      "smtp": {
        "enabled": false,
        "from": "",
        "replyTo": "",
        "transport": {
          "ignoreCert": false,
          "host": "",
          "port": 587,
          "username": "",
          "password": ""
        }
      }
    },
    "user": {
      "deleteDelay": 14
    }
  }